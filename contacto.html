<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/contacto.css">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/0cebf067a0.js" crossorigin="anonymous"></script>
    <link rel="icon" type="image/x-icon" href="/img/favicon.ico">
    <title>PizzaMaster - Las pizzas no son todas iguales</title>
</head>

<body>
    <div class="contenedor">
        <header class="encabezado">
            <a href="index.html"><img class="logo" src="img/pizza-master-logo.png" alt=""></a>
            <!-- Hamburger icon -->
            <input class="side-menu" type="checkbox" id="side-menu" />
            <label class="hamb" for="side-menu"><span class="hamb-line"></span></label>
            <!-- Menu -->
            <nav class="nav">
                <ul class="menu">
                    <li><a href="index.html">HOME</a></li>
                    <li><a href="historia.html">HISTORIA</a></li>
                    <li><a href="variedades.html">VARIEDADES</a> </li>
                    <li><a href="contacto.html">CONTACTO</a></li>
                </ul>
            </nav>
        </header>
        <main class="contenido">
            <div class="form-group">
                <h1>Dejanos tus comentarios</h1>
                <form action="" method="post" id="form" action="https://formspree.io/f/xyyvjbad">
                    <label class="label" for="nombre">Nombre Completo <span>*</span></label>
                    <input  class="form-control" type="text" name="nombre" required id="nombre" placeholder="Juan Perez">
                    <br>
                    <label class="label" for="email">Correo electrónico <span>*</span></label>
                    <input class="form-control" type="text" name="email" required id="email" placeholder="jperez@gmail.com">
                    <br>
                    <label class="label" for="mensaje">Mensaje </label>
                    <textarea class="form-control" name="mensaje" id="mensaje" cols="30" rows="10"></textarea>
                    <br>
                    <button class="btn btn-info" type="submit" id="enviar"><span>Enviar Mensaje</span></button>
                </form>
                <a href="mailto:luis.sottosanto@gmail.com" id="mailto">mail</a>
            </div>
        </main>
        <footer class="pie">
            <div class="footer-social-media">
                <a href="https://www.instagram.com/xxx/"><i id="instagram" class="fab fa-instagram "></i></a>
                <a href="https://www.facebook.com/xxx"><i id="facebook" class="fab fa-facebook "></i></a>
                <a href="https://wa.me/5491133333333"><i id="whatsapp" class="fab fa-whatsapp "></i></a>
            </div>
        </footer>
    </div>
<script>
    const $form = document.querySelector('#form')
    const $botonMaito = document.querySelector('#mailto')

    $form.addEventListener('submit',handleSubmit)


    async function handleSubmit(event){
        event.preventDefault() /* evitamos que se recargue la página al enviar */
        const form = new FormData(this) /* le pasamos el formulario al FormData */
        const response = await fetch(this.action, {//la funcion devuelve de manera asincrónica la respuesta mediando response.ok
            method: this.method, // La API solicita el metodo y body del formulario que estoy enviando
            body: form,
            headers: {
               'Accept': 'application/json' // Es lo que voy a aceptar que me devuelva
            }
        })

        if (response.ok){
            this.reset // resetea los campos del formulario
            /* Colocamos un mensaje de agragdecimiento para el usuario */
            alert('Gracias por contactarte con PizzaMaster. Pronto nos pondremos en contacto contigo. :)')
        }
        
    
        //    $botonMaito.setAttribute('href',`mailto:luis.sottosanto@gmail.com?subject=${form.get('nombre')}${form.get('email')}&body=${form.get('mensaje')}`)
    //    $botonMaito.click()
    }


</script>

</body>

</html>